{
  "swagger": "2.0",
  "info": {
    "title": "Jupiter API",
    "description": "Jupiter quote and swap API",
    "version": "0.0.0"
  },
  "definitions": { "def-0": { "title": "defs" } },
  "paths": {
    "/v1/quote": {
      "get": {
        "summary": "Return route",
        "description": "Get quote for a given input mint, output mint and amount",
        "tags": [],
        "parameters": [
          {
            "type": "string",
            "description": "inputMint",
            "required": true,
            "in": "query",
            "name": "inputMint"
          },
          {
            "type": "string",
            "description": "outputMint",
            "required": true,
            "in": "query",
            "name": "outputMint"
          },
          {
            "type": "number",
            "description": "amount",
            "required": true,
            "in": "query",
            "name": "amount"
          },
          {
            "type": "number",
            "description": "slippage",
            "required": false,
            "in": "query",
            "name": "slippage"
          },
          {
            "type": "number",
            "description": "fee bps",
            "optional": true,
            "required": false,
            "in": "query",
            "name": "feeBps"
          },
          {
            "type": "boolean",
            "description": "Only return direct routes (no hoppings and split trade)",
            "required": false,
            "in": "query",
            "name": "onlyDirectRoutes"
          }
        ],
        "responses": {
          "default": {
            "description": "Default response",
            "schema": {
              "description": "Default response",
              "type": "object",
              "properties": {
                "data": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [],
                    "properties": {
                      "inAmount": { "type": "number" },
                      "outAmount": { "type": "number" },
                      "outAmountWithSlippage": { "type": "number" },
                      "priceImpactPct": { "type": "number" },
                      "marketInfos": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "required": [],
                          "properties": {
                            "id": { "type": "string" },
                            "label": { "type": "string" },
                            "inputMint": { "type": "string" },
                            "outputMint": { "type": "string" },
                            "notEnoughLiquidity": { "type": "boolean" },
                            "inAmount": { "type": "number" },
                            "outAmount": { "type": "number" },
                            "priceImpactPct": { "type": "number" },
                            "lpFee": {
                              "type": "object",
                              "properties": {
                                "amount": { "type": "number" },
                                "mint": { "type": "string" },
                                "pct": { "type": "number" }
                              }
                            },
                            "platformFee": {
                              "type": "object",
                              "properties": {
                                "amount": { "type": "number" },
                                "mint": { "type": "string" },
                                "pct": { "type": "number" }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "timeTaken": { "type": "number" }
              }
            }
          }
        }
      }
    },
    "/v1/price": {
      "get": {
        "summary": "Return simple price",
        "description": "Get simple price for a given input mint, output mint and amount",
        "tags": [],
        "parameters": [
          {
            "type": "string",
            "description": "inputMint",
            "required": true,
            "in": "query",
            "name": "inputMint"
          },
          {
            "type": "string",
            "description": "outputMint",
            "required": true,
            "in": "query",
            "name": "outputMint"
          },
          {
            "type": "number",
            "description": "amount",
            "required": false,
            "in": "query",
            "name": "amount"
          }
        ],
        "responses": {
          "default": {
            "description": "Default response",
            "schema": {
              "description": "Default response",
              "type": "object",
              "properties": {
                "data": {
                  "inputMint": "string",
                  "inputSymbol": "string",
                  "outputMint": "string",
                  "outputSymbol": "string",
                  "amount": "number",
                  "price": "number"
                },
                "timeTaken": { "type": "number" }
              }
            }
          }
        }
      }
    },
    "/v1/swap": {
      "post": {
        "summary": "Return setup, swap and cleanup transactions",
        "description": "Get swap serialized transactions for a route",
        "tags": [],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "route": {
                  "type": "object",
                  "description": "Data from /v1/quote",
                  "required": [],
                  "properties": {
                    "inAmount": { "type": "number" },
                    "outAmount": { "type": "number" },
                    "outAmountWithSlippage": { "type": "number" },
                    "priceImpactPct": { "type": "number" },
                    "marketInfos": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": [],
                        "properties": {
                          "id": { "type": "string" },
                          "label": { "type": "string" },
                          "inputMint": { "type": "string" },
                          "outputMint": { "type": "string" },
                          "notEnoughLiquidity": { "type": "boolean" },
                          "inAmount": { "type": "number" },
                          "outAmount": { "type": "number" },
                          "priceImpactPct": { "type": "number" },
                          "lpFee": {
                            "type": "object",
                            "properties": {
                              "amount": { "type": "number" },
                              "mint": { "type": "string" },
                              "pct": { "type": "number" }
                            }
                          },
                          "platformFee": {
                            "type": "object",
                            "properties": {
                              "amount": { "type": "number" },
                              "mint": { "type": "string" },
                              "pct": { "type": "number" }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "wrapUnwrapSOL": {
                  "type": "boolean",
                  "description": "Wrap/unwrap SOL",
                  "optional": true
                },
                "feeAccount": {
                  "type": "string",
                  "description": "fee account",
                  "optional": true
                },
                "tokenLedger": {
                  "type": "string",
                  "description": "custom token ledger account",
                  "optional": true
                },
                "userPublicKey": {
                  "type": "string",
                  "description": "Public key of the user"
                }
              }
            }
          }
        ],
        "responses": {
          "default": {
            "description": "Default response",
            "schema": {
              "description": "Default response",
              "type": "object",
              "properties": {
                "setupTransaction": {
                  "type": "string",
                  "description": "Base64 encoded transaction"
                },
                "swapTransaction": {
                  "type": "string",
                  "description": "Base64 encoded transaction"
                },
                "cleanupTransaction": {
                  "type": "string",
                  "description": "Base64 encoded transaction"
                }
              }
            }
          }
        }
      }
    },
    "/v1/route-map": {
      "get": {
        "description": "[DEPRECATED] use /indexed-route-map Returns a hash map, input mint as key and an array of valid output mint as values",
        "deprecated": true,
        "responses": { "200": { "description": "Default Response" } }
      }
    },
    "/v1/indexed-route-map": {
      "get": {
        "description": "Returns a hash map, input mint as key and an array of valid output mint as values, token mints are indexed to reduce the file size",
        "parameters": [
          {
            "type": "boolean",
            "description": "Only return direct routes (no hoppings and split trade)",
            "required": false,
            "in": "query",
            "name": "onlyDirectRoutes"
          }
        ],
        "responses": {
          "default": {
            "description": "Default response",
            "schema": {
              "description": "Default response",
              "type": "object",
              "properties": {
                "mintKeys": {
                  "type": "array",
                  "items": { "type": "string" },
                  "description": "All the mints that are indexed to match in indexedRouteMap"
                },
                "indexedRouteMap": {
                  "type": "object",
                  "description": "All the possible route and their corresponding output mints",
                  "additionalProperties": {
                    "type": "array",
                    "items": { "type": "number" }
                  },
                  "example": { "1": [2, 3, 4], "2": [1, 3, 4] }
                }
              }
            }
          }
        }
      }
    }
  },
  "schemes": ["https"],
  "consumes": ["application/json"],
  "produces": ["application/json"]
}
